<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.1">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="RL, Libération">
<meta name="dcterms.date" content="2016-10-27">
<meta name="description" content="Ce lundi 24 octobre 2016, Le Monde Sciences faisait l’honneur d’un article grand format à un «passionné de neurosciences, biologie, informatique, mathématiques, philosophie et géopolitique», Idriss Aberkane. Honneur qui en a fait bondir plus d’un dans la communauté scientifique.">

<title>La science et les médias : ce que révèle le succès litigieux d’Idriss Aberkane – blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(aberkane_poudre.jpg);
background-size: cover;
      }
</style>
<style>
.quarto-title-block .quarto-title-banner {
  background-position-y: center;
  height: 400px;
}
</style>


<link rel="stylesheet" href="../../../custom.scss">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">La science et les médias : ce que révèle le succès litigieux d’Idriss Aberkane</h1>
                  <div>
        <div class="description">
          Ce lundi 24 octobre 2016, Le Monde Sciences faisait l’honneur d’un article grand format à un «passionné de neurosciences, biologie, informatique, mathématiques, philosophie et géopolitique», Idriss Aberkane. Honneur qui en a fait bondir plus d’un dans la communauté scientifique.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">liberation</div>
                <div class="quarto-category">neuroscience</div>
                <div class="quarto-category">aberkane</div>
                <div class="quarto-category">recherche</div>
                <div class="quarto-category">medias</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>RL, Libération </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 27, 2016</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Pour ceux qui ne connaissent pas encore le personnage, Idriss Aberkane est un jeune conférencier connu pour sa défense de « <a href="https://web.archive.org/web/20200923020135/https://fr.wikipedia.org/wiki/%C3%89conomie_du_savoir">l’économie de la connaissance</a>», concept multiforme qui gravite autour de l’idée selon laquelle la connaissance et sa diffusion seront, dans le futur, les deux piliers d’une croissance économique ininterrompue car ne reposant pas sur la transformation et l’échange de bien matériels.</p>
<p>Ses discours dynamiques mettent fréquemment en avant la valeur immense que représente le monde vivant pour l’évolution des technologies humaines, notamment par le biais du <a href="https://web.archive.org/web/20200923020135/https://fr.wikipedia.org/wiki/Biomim%C3%A9tisme">biomimétisme</a>. Certes, les approximations, les raccourcis et les <a href="https://web.archive.org/web/20200923020135/https://medium.com/@tibo/idriss-aberkane-ou-le-danger-de-la-poudre-aux-yeux-b4f8b94ce202#.y3k66qwp9">formules mystificatrices</a> parsèment sa pensée, mais il faut lui reconnaître une chose : Idriss est motivé, passionné et formidablement « productif ».</p>
<p>Formidablement productif, car son <a href="https://web.archive.org/web/20200923020135/http://idrissaberkane.org/index.php/cv/">CV</a> est proprement hallucinant pour un jeune homme de trente ans : trois doctorats, Cambridge University, Stanford University, ENS Ulm, Collège de France, Ecole Polytechnique. 160 conférences, une liste de publications longue comme le bras, des titres d’Ambassadeur, de Conseiller scientifique, de Professeur dans la Silicon Valley, de Professeur à l’École Centrale de Paris, d’Ingénieur de Recherche, et enfin d’<a href="https://web.archive.org/web/20200923020135/http://www.lepoint.fr/journalistes-du-point/idriss-j--aberkane">Éditorialiste</a> au Point.</p>
<section id="de-limportance-des-guillemets" class="level2">
<h2 class="anchored" data-anchor-id="de-limportance-des-guillemets">De l’importance des guillemets</h2>
<p>Formidablement « productif », donc, parce que nous entrons là dans le vif du sujet: oui, le CV d’Idriss pose problème à certains.</p>
<p>Devant le petit tollé suscité par les nombreuses inexactitudes présumées (voir en bas de page), lemonde.fr a d’ailleurs ajouté une <a href="https://web.archive.org/web/20200923020135/http://www.lemonde.fr/sciences/article/2016/10/24/idriss-aberkane-l-apprenti-sage_5019485_1650684.html">mise en garde</a> dès le lendemain:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="aberkane_portrait_monde.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="485"></p>
</figure>
</div>
<p>Je n’entrerai pas dans le détail de tous ces points et je me contenterai d’aborder le plus crucial pour quelqu’un qui se dit « Docteur en neurosciences cognitives » : sa soi-disant scolarité au <a href="https://web.archive.org/web/20200923020135/http://www.cogmaster.net/">Cogmaster</a> de l’ENS Ulm, reconnu comme l’une des meilleures formations en neurosciences cognitives d’Europe.</p>
<p>En effet, Idriss Aberkane ne figure ni sur les <a href="https://web.archive.org/web/20200923020135/http://sapience.dec.ens.fr/cogmaster/www/f_01_archives.php">listes d’anciens élèves</a> de ce master, ni même dans l’annuaire des <a href="https://web.archive.org/web/20200923020135/http://www.archicubes.ens.fr/lannuaire#annuaire_chercher?identite=aberkane">anciens élèves</a> de l’ENS.</p>
</section>
<section id="la-fin-justifie-t-elle-les-moyens" class="level2">
<h2 class="anchored" data-anchor-id="la-fin-justifie-t-elle-les-moyens">La fin justifie-t-elle les moyens ?</h2>
<p>L’objet de ce billet n’est pas de partir en guerre contre le CV gonflé aux hormones d’Idriss Aberkane, car son succès repose en grande partie sur la complicité des médias. Il est entré dans l’écosystème par la mauvaise porte, et la vraie question qui se pose maintenant est celle de savoir si les « bonnes » portes existent pour permettre aux « bons » chercheurs de trouver leur audience et de transmettre leurs savoirs.</p>
<p>Il suffit de visualiser la première minute de son passage sur France 5 pour comprendre le problème. Après une énonciation à n’en plus finir du parcours d’Aberkane, qui baisse les yeux, Anne-Elisabeth Lemoine se plaint d’avoir « déjà mal à la tête » et lui demande d’un ton équivoque : « ça ne tient qu’à moi ? ».</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/HrquuGp3Cjw" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Au visionnage de cette vidéo que la chaine officielle de <em>C à vous</em> intitule, comme par mégarde, « Idriss <u>Aberrante</u> (sic): Comment libérer votre cerveau ? », la notion de culpabilité se dissipe, ou plutôt, se dissout. Dans le fond, Idriss ne fait que servir une bonne vieille soupe, avec des manières fort agréables et un talent certain.</p>
<p>A cet égard, la suite de l’interview est particulièrement instructive. Idriss invente des mots qui tapent à l’œil (neurosagesse), se réfère à des histoires sensationnelles mais invérifiables et peu plausibles (la corde et l’éléphant) et il remixe des concepts parascientifiques, pour ne pas dire ascientifiques, comme pour mieux noyer le poisson. Par exemple, la description qu’il donne du mentalisme correspond plutôt à la <a href="https://web.archive.org/web/20200923020135/https://fr.wikipedia.org/wiki/Programmation_neuro-linguistique">programmation neurolinguistique</a>, le <a href="https://web.archive.org/web/20200923020135/https://fr.wikipedia.org/wiki/Mentalisme_(illusionnisme)">mentalisme</a> à proprement parler se définissant en fait comme « l’art du spectacle qui consiste à créer l’illusion de facultés paranormales ». Drôle de mise en abîme quand on connait le personnage…</p>
<p>Certes, il existe des énarques au pedigree validé qui sont de véritables insultes à l’intelligence et des autodidactes sans diplômes qui sont géniaux. Mais Aberkane n’est ni l’un ni l’autre. C’est simplement un gentil charlatan qui a fait sienne la devise «la fin justifie les moyens» et qui, comme bien d’autres avant lui, constate actuellemment le succès retentissant de celle-ci. D’ailleurs, il commence à engranger les bénéfices de cette exposition médiatique : son entreprise personnelle se réclame en effet de contrats avec Forbes, Engie, GDF, Eiffage, Chanel, ou encore… le MEDEF !</p>
</section>
<section id="de-quelle-fin-parle-t-on-au-juste" class="level2">
<h2 class="anchored" data-anchor-id="de-quelle-fin-parle-t-on-au-juste">De quelle fin parle-t-on, au juste ?</h2>
<p>Le personnage ne dupe donc ni les journalistes, ni les chercheurs. Au final, seul l’audimat est dupe.</p>
<p>Mais l’audimat est diverti, donc l’audimat est content, donc les annonceurs sont contents. Et puis Idriss est « numéro 1 », donc Idriss est content, donc tout le monde est content.</p>
<p>Bon, soyons honnêtes et ne tombons pas dans la caricature. Il reste quelques bastions qui résistent et continuent d’offrir un environnement de qualité pour parler science dans le format qui convient, c’est-à-dire dans un format long qui permet de dépasser le sensationnalisme et les formules toutes faites résonnant avec ce que les auditeurs savent déjà : la <a href="https://web.archive.org/web/20200923020135/https://www.franceinter.fr/emissions/la-tete-au-carre">Tête au carré</a> sur Inter, la <a href="https://web.archive.org/web/20200923020135/https://www.franceculture.fr/emissions/la-methode-scientifique">Méthode scientifique</a> et la <a href="https://web.archive.org/web/20200923020135/https://www.franceculture.fr/emissions/la-conversation-scientifique">Conversation scientifique</a> sur Culture, les documentaires d’<a href="https://web.archive.org/web/20200923020135/http://future.arte.tv/fr">Arte</a>, voire même <a href="https://web.archive.org/web/20200923020135/http://www.m6.fr/emission-e_m6/">E=M6</a> en sont quelques exemples.</p>
<p>Mais à l’image du mythique <a href="https://web.archive.org/web/20200923020135/https://fr.wikipedia.org/wiki/C%27est_pas_sorcier"><em>C’est pas sorcier</em></a>disparu du PAF en 2014, la tendance est au déclin tandis que la biologie, les neurosciences et l’intelligence artificielle progressent si rapidement qu’elles auront à n’en pas douter des <a href="https://web.archive.org/web/20200923020135/https://www.ted.com/talks/sam_harris_can_we_build_ai_without_losing_control_over_it?language=fr">répercussions majeures</a> sur l’avenir à moyen-terme de nos sociétés. Avenir qui dépend, en théorie, du choix éclairé de citoyens ayant la chance de vivre en démocratie.</p>
<p>Dans ce contexte, l’exposition dont bénéficie Idriss Aberkane est contre-productive. Pas seulement parce qu’il occupe un temps d’antenne qui aurait pu être mieux employé, mais parce qu’elle donne une fausse image de ce que sont les neurosciences au grand public: d’une part, elle renforce le discrédit des chercheurs, et d’autre part elle renforce l’idée selon laquelle il serait possible de goûter aux fruits de la science comme on profite d’une émission de divertissement.</p>
</section>
<section id="trois-doctorats-cest-pas-grand-chose-du-tout" class="level2">
<h2 class="anchored" data-anchor-id="trois-doctorats-cest-pas-grand-chose-du-tout">«Trois doctorats, c’est pas grand chose du tout»</h2>
<p>Quand on entend Aberkane dire, sans que quiconque sourcille, «trois doctorats c’est pas grand chose du tout, dans le sens où j’ai juste eu la chance de pouvoir faire d’une passion, d’un hobby, un diplôme», on se dit qu’il y a un vrai problème de représentation de ce qu’est le doctorat en France. Car un doctorat, c’est minimum 3 ans de travail à temps plein, et certainement pas la transformation chanceuse d’un hobby en diplôme! C’est la volonté d’aller au bout de soi-même et de toucher ses limites. C’est accepter d’être déconnecté du monde réel pour quelques temps et de s’y reconnecter sans renier ce qu’on a appris: à savoir que c’est l’ignorance et non la connaissance qui est le <a href="https://web.archive.org/web/20200923020135/https://www.ted.com/talks/stuart_firestein_the_pursuit_of_ignorance?language=en">moteur</a> de la science véritable.</p>
<p>En théorie, ce qu’un journaliste devrait chercher quand il s’entretient avec un chercheur, ce ne sont pas seulement de nouvelles réponses, mais aussi et surtout de nouveaux points d’interrogation. Car la recherche, c’est avant tout l’ascension - souvent douloureuse - vers de meilleures questions et tout le défi de la communication scientifique est d’en faire saisir à autrui le sens et l’importance.</p>
<p>Idriss Aberkane est sympatique, cultivé comme <a href="https://web.archive.org/web/20200923020135/https://fr.wikipedia.org/wiki/Jean_Pic_de_la_Mirandole">Pic de la Mirandole</a>, et il est peut-être convaincu que tous les moyens sont bons pour susciter la curiosité de son auditoire. Malheureusement, il semble ignorer que le goût de la curiosité ne sert pas à grand chose sans le goût de l’effort intellectuel, pour lequel aucune formule magique n’a encore été inventée.</p>
<p>Ce dernier dépend avant tout de l’éducation, du crédit et du respect accordé à ceux qui lui dédient leur vie, et enfin, du temps, du temps, et encore du temps. Car en cette matière, l’appétit vient en mangeant.</p>
<p>Mais pas n’importe quoi.</p>
<p><a href="https://web.archive.org/web/20200923020135/http://hemisphere-gauche.blogs.liberation.fr/2016/10/27/la-science-et-les-medias-ce-que-revele-le-succes-litigieux-didriss-aberkane/"><strong>Article original (Wayback Archive)</strong></a></p>
<script src="https://giscus.app/client.js" data-repo="romainligneul/giscus-comments" data-repo-id="R_kgDOMSMTIw" data-category="CommentsBlogFR" data-category-id="DIC_kwDOMSMTI84CglZk" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async="">
</script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>