<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.1">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="RL, Libération">
<meta name="dcterms.date" content="2020-08-06">
<meta name="description" content="Le modèle de Bill Gates et Elon Musk à la lumière du réseau de neurones GPT-3.">

<title>L’intelligence artificielle générale comme propriété privée? – RL  </title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../favicon.ico" rel="icon">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CFSZ45W5CV"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
 
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'analytics_storage': 'denied'
  });
gtag('config', 'G-CFSZ45W5CV', { 'anonymize_ip': true});
</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(coverIAprivee.jpg);
background-size: cover;
      }
</style>
<style>
.quarto-title-block .quarto-title-banner {
  background-position-y: center;
  height: 400px;
}
</style>


<meta property="og:title" content="L’intelligence artificielle générale comme propriété privée? – RL">
<meta property="og:description" content="Le modèle de Bill Gates et Elon Musk à la lumière du réseau de neurones GPT-3.">
<meta property="og:image" content="https://romainligneul.github.io/fr/blog/posts/IAprivee/coverIAprivee.jpg">
<meta property="og:site_name" content="Romain Ligneul">
<meta property="og:locale" content="fr_FR">
<meta property="og:image:alt" content="Wiki Commons @mikemacmarketing">
<meta name="twitter:title" content="L’intelligence artificielle générale comme propriété privée? – RL">
<meta name="twitter:description" content="Le modèle de Bill Gates et Elon Musk à la lumière du réseau de neurones GPT-3.">
<meta name="twitter:image" content="https://romainligneul.github.io/fr/blog/posts/IAprivee/coverIAprivee.jpg">
<meta name="twitter:image:alt" content="Wiki Commons @mikemacmarketing">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">RL</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../fr/index.html"> 
<span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../fr/blog/"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../fr/recherche.html"> 
<span class="menu-text">Recherche</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../fr/robustcircuit.html"> 
<span class="menu-text">Startup</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-science-citoyenne" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Science citoyenne</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-science-citoyenne">    
        <li>
    <a class="dropdown-item" href="../../../../fr/sciencecitoyenne/quiz_elections.html">
 <span class="dropdown-text">Quiz électoraux (2022)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../../fr/sciencecitoyenne/biais_reseaux.html">
 <span class="dropdown-text">Biais réseaux sociaux (2017)</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../.././"> 
<span class="menu-text"><iconify-icon inline="" icon="emojione:flag-for-us-outlying-islands" aria-label="Icon flag-for-us-outlying-islands from emojione Iconify.design set." title="Icon flag-for-us-outlying-islands from emojione Iconify.design set."></iconify-icon></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../.././fr"> 
<span class="menu-text"><iconify-icon inline="" icon="emojione:flag-for-france" aria-label="Icon flag-for-france from emojione Iconify.design set." title="Icon flag-for-france from emojione Iconify.design set."></iconify-icon></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../../.././fr/blog/index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/romainligneul" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="https://twitter.com/nerfsocial" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-twitter"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/causalself">
            (EN, recherche)
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/nerfsocial">
            (FR, société)
            </a>
          </li>
      </ul>
    </div>
    <a href="https://www.linkedin.com/in/romain-ligneul-b63b46192/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://www.adaptivecontrol.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-lightbulb"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">L’intelligence artificielle générale comme propriété privée?</h1>
                  <div>
        <div class="description">
          Le modèle de Bill Gates et Elon Musk à la lumière du réseau de neurones GPT-3.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">liberation</div>
                <div class="quarto-category">IA</div>
                <div class="quarto-category">économie</div>
                <div class="quarto-category">sciences cognitives</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>RL, Libération </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 6, 2020</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#linternet-à-la-moulinette" id="toc-linternet-à-la-moulinette" class="nav-link active" data-scroll-target="#linternet-à-la-moulinette">L’internet à la moulinette</a></li>
  <li><a href="#quand-la-taille-compte" id="toc-quand-la-taille-compte" class="nav-link" data-scroll-target="#quand-la-taille-compte">Quand la taille compte</a></li>
  <li><a href="#partenariat-avec-microsoft-le-côté-obscur-de-la-force" id="toc-partenariat-avec-microsoft-le-côté-obscur-de-la-force" class="nav-link" data-scroll-target="#partenariat-avec-microsoft-le-côté-obscur-de-la-force">Partenariat avec Microsoft: le côté obscur de la Force?</a></li>
  <li><a href="#le-retard-européen-en-matière-dia-et-de-big-data" id="toc-le-retard-européen-en-matière-dia-et-de-big-data" class="nav-link" data-scroll-target="#le-retard-européen-en-matière-dia-et-de-big-data">Le retard européen en matière d’IA et de Big Data</a></li>
  <li><a href="#vers-une-ia-européenne-publique" id="toc-vers-une-ia-européenne-publique" class="nav-link" data-scroll-target="#vers-une-ia-européenne-publique">Vers une IA européenne publique?</a></li>
  <li><a href="#pour-aller-plus-loin" id="toc-pour-aller-plus-loin" class="nav-link" data-scroll-target="#pour-aller-plus-loin">Pour aller plus loin</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Si l’alliance entre le fantasque Elon Musk et l’austère Bill Gates a de quoi surprendre, elle vient pourtant de porter ses premiers fruits, et non des moindres. Un an après <a href="https://web.archive.org/web/20201205030704/https://www.cnbc.com/2019/07/22/microsoft-invests-1-billion-in-elon-musks-openai.html">l’accord conclu</a> entre les entreprises OpenAI et Microsoft, l’algorithme “GPT-3” sortait officiellement du bois le 28 mai 2020 sous la forme d’une publication scientifique (voir <a href="https://web.archive.org/web/20201205030704/https://arxiv.org/pdf/2005.14165.pdf">ici</a>). S’il ne s’agit pas encore de la super-intelligence dont rêvent les transhumanistes, l’avancée est suffisamment significative pour ouvrir de vraies questions politiques. Présentations.</p>
<section id="linternet-à-la-moulinette" class="level3">
<h3 class="anchored" data-anchor-id="linternet-à-la-moulinette">L’internet à la moulinette</h3>
<p>Les performances de ce réseau de neurones surdimensionné (175 milliards de paramètres) font fantasmer et frissonner geeks et techno-sceptiques du monde entier par sa capacité à imiter l’être humain dans une incroyable diversité de contextes linguistiques. Au menu des réjouissances, on retrouve évidemment la traduction, la correction orthographique et l’auto-complétion de phrases, mais également la réponse à des questions ouvertes, la rédaction de textes imitant le style d’auteurs connus ou encore le codage de pages web et même une surprenante capacité à résoudre des problèmes d’arithmétique (pour une liste d’applications, voici <a href="https://web.archive.org/web/20201205030704/https://www.journaldugeek.com/2020/08/03/gtp-3-pourquoi-generateur-texte-openai-polemique/">ici</a>, <a href="https://web.archive.org/web/20201205030704/https://dev.to/amananandrai/top-10-best-uses-of-gpt-3-175n">là</a> ou <a href="https://web.archive.org/web/20201205030704/https://www.technologyreview.com/2020/07/20/1005454/openai-machine-learning-language-generator-gpt-3-nlp/">là</a>).</p>
<p>Le tout, sans la moindre supervision humaine: le réseau de neurones est simplement entraîné à prédire le prochain mot au sein un gigantesque corpus linguistique comptant plusieurs milliards de phrases. Pour donner une idée de la taille de ce jeu de données, l’intégralité de Wikipedia ne représente que 3% du corpus. Au final, c’est une bonne partie de l’Internet — sauvegardé chaque mois par <a href="https://web.archive.org/web/20201205030704/https://commoncrawl.org/">Common Crawl</a> — qui est passée à la moulinette de cet algorithme utilisant le principe de calcul “<a href="https://web.archive.org/web/20201205030704/https://en.wikipedia.org/wiki/Transformer_(machine_learning_model)">Transformer</a>” inventé il y a à peine trois ans par les ingénieurs de Google. En bref, il s’agit d’une méthode permettant de contextualiser beaucoup plus profondément le sens de chaque mot, grâce à la prise en compte de la position du mot dans la phrase et à un mécanisme dit “attentionnel” qui permet à l’algorithme de mettre en relation des unités linguistiques distantes, de manière à faire le lien entre sujet, verbe et complément d’objet direct dans une phrase longue du type “Le <strong>gamin</strong> de huit ans <strong>mange</strong> une belle <strong>pomme</strong>” ou à prendre en compte le contexte sémantique liant les différentes phrases d’un même paragraphe.</p>
<p>Si ce billet de blog n’a pas vocation à passer en revue toutes les applications du GPT-3 (pour “Generative Pretrained Transformer” de troisième génération), il faut tout de même mentionner la plus spectaculaire d’entre elles: la réussite du fameux test de Turing. Ou plutôt, la réussite d’une version particulière du <a href="https://web.archive.org/web/20201205030704/https://fr.wikipedia.org/wiki/Test_de_Turing">test de Turing</a> puisqu’il en existe aujourd’hui de nombreuses déclinaisons. Les chercheurs d’OpenAI ont ainsi invité plus de 600 participants à évaluer si de courts textes journalistiques avaient été générés par une intelligence artificielle ou par un être humain. Verdict: les textes générés (à partir d’un titre et d’un chapeau) par la version la plus évoluée de l’algorithme sont indistinguables (pour un être humain) de ceux générés par de vrais journalistes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="turinggpt3.jpg" class="img-fluid figure-img"></p>
<figcaption>Évolution de la capacité à détecter les textes écrits par l’IA d’OpenAI en fonction du nombre de paramètres utilisés par le réseau de neurones. Avec 175 milliars de paramètres (à l’extrêmité droite de la courbe), les textes deviennent indistinguables pour des observateurs humains. Pour un exemple de texte, voir section «’Pour aller plus loin» en bas de page.</figcaption>
</figure>
</div>
</section>
<section id="quand-la-taille-compte" class="level3">
<h3 class="anchored" data-anchor-id="quand-la-taille-compte">Quand la taille compte</h3>
<p>Au-delà de cette prouesse technique, l’article d’OpenAI rapporte un résultat autrement plus significatif pour l’avenir du domaine. Pour en saisir le sens, il faut se pencher sur un débat qui anime la communauté scientifique depuis l’avènement du “deep learning”, ou apprentissage profond. Malgré les performances impressionnantes de ces nouveaux réseaux dont la paternité est souvent attribuée à <a href="https://web.archive.org/web/20201205030704/https://fr.wikipedia.org/wiki/Yann_Le_Cun">Yann LeCun</a>, chercheur en chef responsable de l’IA chez Facebook, nombreux sont ceux qui pensent qu’une ou plusieurs avancées conceptuelles majeures seront nécessaires avant d’atteindre le stade de l’intelligence artificielle générale (IAG), c’est à dire de produire un algorithme surpassant significativement l’intelligence humaine. Autrement dit, il resterait du temps et de nombreux problèmes à résoudre avant de pouvoir ne serait-ce qu’esquisser le chemin vers une telle technologie. C’est d’ailleurs la position défendue par Yann LeCun dans ses nombreuses conférences publiques visant à démystifier l’IA (voir <a href="https://web.archive.org/web/20201205030704/https://www.youtube.com/watch?v=2WiPx6thH2E">ici</a>). Mais tous ne sont pas du même avis, et certaines perspectives sont moins apaisantes. En effet, certains pensent que le problème de l’IAG est surtout un problème de puissance de calcul, c’est à dire un problème de nature technologique plutôt que conceptuel.</p>
<p>Et c’est là que l’article d’OpenAI est intéressant. En effet, il montre que l’augmentation des performances semble dépendre directement de l’augmentation de la puissance de calcul, sans signes évident de saturation. Cela signifie qu’en construisant un super-calculateur encore plus massif que celui mis à disposition par Microsoft pour faire tourner GPT-3, on pourrait atteindre une performance significativement supérieure. On notera, au passage, que cette stratégie pose de réels <a href="https://web.archive.org/web/20201205030704/https://www.forbes.com/sites/robtoews/2020/06/17/deep-learnings-climate-change-problem/#ebfbb2e6b438">problèmes énergétiques</a> compte tenu de la consommation des super-calculateurs…</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="precision_parametres.jpg" class="img-fluid figure-img" width="432"></p>
<figcaption>Augmentation continue de la précision de l’algorithme avec l’augmentation du nombre de paramètres.</figcaption>
</figure>
</div>
<p>Il n’est donc pas exclu qu’une avancée majeure soit obtenue en mettant simplement plus d’argent et de moyens dans les infrastructures (ce qui est <a href="https://web.archive.org/web/20201205030704/https://blogs.microsoft.com/ai/openai-azure-supercomputer/">prévu du côté de Microsoft</a>). Si tel est le cas, il est urgent de réfléchir collectivement aux implications. Aujourd’hui, on voit bien que les acteurs dominants du secteur — Google, Facebook et OpenAI — sont partagés entre le désir de communiquer leurs progrès de manière à attirer les meilleurs chercheurs et leur crainte de susciter dans l’opinion publique une réaction excessive qui pourrait se traduire par un boycott des consommateurs ou un effort législatif coordonné à l’échelle internationale. L’évaluation du chemin qu’il reste à parcourir avant la mise au point d’une machine ressemblant — même de loin — à une IAG conditionne évidemment le traitement politique et médiatique de cette technologie émergente. A l’heure actuelle, nul ne sait quelle part du chemin a déjà été parcourue, mais il est clair que les progrès sont fulgurants dans tous les domaines qui ont un lien direct avec l’IA: modélisation linguistique, statistiques et neurosciences en tête.</p>
</section>
<section id="partenariat-avec-microsoft-le-côté-obscur-de-la-force" class="level3">
<h3 class="anchored" data-anchor-id="partenariat-avec-microsoft-le-côté-obscur-de-la-force">Partenariat avec Microsoft: le côté obscur de la Force?</h3>
<blockquote class="blockquote">
<p>“OpenAI was about the democratization of AI power. So that’s why [it] was created as a nonprofit foundation, to ensure that AI power … or to reduce the probability that AI power would be monopolized.” <a href="https://web.archive.org/web/20201205030704/https://www.vox.com/future-perfect/2018/11/2/18053418/elon-musk-artificial-intelligence-google-deepmind-openai">Elon Musk, extrait d’un entretien</a> avec Swisher en 2018</p>
</blockquote>
<p>Jusque très récemment OpenAI faisait figure d’exception dans le domaine de l’IA privée. Comme son nom l’indique, la quasi-totalité de son travail était partagée sur la plate-forme <a href="https://web.archive.org/web/20201205030704/https://github.com/openai">Github</a>, sans que l’on comprenne bien comment l’entreprise comptait monétiser ses recherches. Peut-être était-ce un réel effort philanthropique de la part d’Elon Musk, toujours prompt à <a href="https://web.archive.org/web/20201205030704/https://www.cnbc.com/2020/05/13/elon-musk-has-a-complex-relationship-with-the-ai-community.html">critiquer les modèles de Google et Facebook</a>? Ce positionnement a en tout cas permis à OpenAI de compenser son retard sur les deux géants en attirant de jeunes talents soucieux des questions éthiques. Mais avec l’entrée de Microsoft au capital, le changement de paradigme est brutal. Non seulement OpenAI est officiellement devenue une entreprise à but lucratif (“for profit”), mais surtout, contrairement à son prédécesseurs GPT-2, l’algorithme GPT-3 n’a rien d’ouvert: le code n’est pas publié et l’accès à cette IA se fait au compte-goutte, de façon opaque.</p>
<p>Argument évoqué: la technologie serait trop “dangereuse” pour être partagée avec le public. En réalité: l’entrée de Microsoft au capital d’OpenAI marque un changement de modèle économique. Une IA surpuissante est entraînée sur un superordinateur extrêmement cher et les personnes désireuses d’utiliser cette IA devront dorénavant payer un abonnement qui ne leur donnera accès ni au code, ni au superordinateur, mais simplement à une interface permettant d’entrer des requêtes et de recueillir les résultats associés. Certes, une liste d’attente permet encore à quelques chercheurs ou développeurs web d’accéder à cette interface gratuitement, mais il est évident que cette gratuité permet surtout à OpenAI de “crowdsourcer” la recherche d’applications pour son outil. Dès lors que les niches les plus fructueuses auront été identifiées et suffisamment médiatisées, il y a fort à parier que le service sera payant pour tout le monde.</p>
<p>Or la maîtrise d’une technologie telle que GPT-3 va rapidement être synonyme de maîtrise du web, au sens de l’étude des corrélations et peut-être des liens de causalité entre les innombrables événements qui parcourent la toile. Quelles sont les conséquences à court-, moyen- et long-terme des explosions de Beyrouth sur les opinions publiques? Comment le Brexit affecte-t-il le lien entre les européens et les britanniques? Les iraniens sont-ils suffisamment en colère contre leur gouvernement pour qu’une opération de déstabilisation réussisse? Les français sont-ils ou non enclins à réélire Macron? Quelles banques et quelles entreprises vont s’effondrer à la suite de la pandémie? Ces enjeux géopolitiques sont déjà au centre de la question, car l’intelligence artificielle a déjà une capacité unique à relier entre elles des données si vastes et disparates qu’aucun être humain ne serait capable d’en faire la synthèse. Et il ne s’agit encore que de la capacité à “voir” le monde par le prisme de l’IA, non pas de le contrôler, c’est à dire de favoriser un scénario plutôt qu’un autre en facilitant ou limitant la transmission de certaines informations.</p>
</section>
<section id="le-retard-européen-en-matière-dia-et-de-big-data" class="level3">
<h3 class="anchored" data-anchor-id="le-retard-européen-en-matière-dia-et-de-big-data">Le retard européen en matière d’IA et de Big Data</h3>
<p>Face à ces perspectives, un repli technophobe n’est pas à exclure. Mais cela pourrait desservir la société dans son ensemble car la technologie continuera de progresser, avec ou sans l’aval des populations. La grande question, il me semble, est plutôt celle du contrôle public de cette technologie. Or à l’heure actuelle, si la France vient de se doter du supercalculateur <a href="https://web.archive.org/web/20201205030704/http://www.cnrs.fr/fr/cnrsinfo/supercalculateur-jean-zay-les-defis-de-la-co-construction">Jean Zay</a>, il n’est pas sur que les crédits soient suffisant pour entraîner un réseau de neurones comme GPT-3 (on parle de <a href="https://web.archive.org/web/20201205030704/https://lambdalabs.com/blog/demystifying-gpt-3/">plusieurs millions d’euros</a>). A titre de comparaison, le budget de l’INRIA (Institut National de Recherche en Informatique et Automatique) s’élevait en 2018 à 240 millions d’euros (voir <a href="https://web.archive.org/web/20201205030704/https://www.inria.fr/sites/default/files/2019-10/RA%2B2018%2BInria%2BFR%282%29.pdf">ici</a>), quand Google Deepmind coûte à Google environ <a href="https://web.archive.org/web/20201205030704/https://medium.com/@akiranin/is-deepmind-too-expensive-at-500m-a-year-b3451cd7af1b">500 millions d’euros</a> par an et quand l’investissement initial de Microsoft dans OpenAI s’élève à <a href="https://web.archive.org/web/20201205030704/https://www.theverge.com/2019/7/22/20703578/microsoft-openai-investment-partnership-1-billion-azure-artificial-general-intelligence-agi">1 milliards d’euros</a>.</p>
<p>On le sait, l’Europe est loin derrière les États-Unis et la Chine en matière de “Big Data” et d’IA. Elle ne possède ni réseau social ni moteur de recherche ni plate-forme de vente en ligne, ni moteur vidéo rivalisant de près ou de loin avec Facebook, Google, Amazon et Youtube. Or si une importante prise de conscience a abouti à des progrès en matière de collecte et de stockage des données par ces acteurs, la question de leur traitement reste en retrait. Même avec le filtrage du <a href="https://web.archive.org/web/20201205030704/https://ec.europa.eu/info/law/law-topic/data-protection_fr">RGPD</a>, même en se limitant au web public, une énorme quantité de données reste disponible pour les algorithmes d’IA. Si l’on schématise, OpenAI traite aujourd’hui des données publiques avec un algorithme privé tandis que Google et Facebook traitent des données privées avec des algorithmes publics (dans une mesure toute relative). Dans les deux cas, l’intelligence — pris dans le sens anglo-saxon de “renseignement” — est privatisée. Et dans les deux cas, les énormes super-ordinateurs dédiés au traitement des données sont inaccessibles pour les chercheurs, les ONG ou les pouvoirs publics.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="azurefarm.jpg" class="img-fluid figure-img" width="400"></p>
<figcaption>Ferme de serveurs du service Microsoft Azure, au Royaume-Uni</figcaption>
</figure>
</div>
<p>En clair, l’Europe doit rattraper son retard au plus vite afin de permettre aux technologies d’intelligence artificielle de rester (redevenir) des outils publics dédiés à la recherche et à la poursuite du bien commun. Certains <a href="https://web.archive.org/web/20201205030704/https://ec.europa.eu/digital-single-market/en/artificial-intelligence">programmes d’investissement</a> vont dans ce sens avec notamment la création de ressources de calcul dédiées, mais c’est encore trop peu compte tenu de la distance qui nous sépare des autres acteurs. Certes, les applications concrètes de la modélisation linguistique et l’analyse profonde du web rendues possibles par les algorithmes du type GPT-3 sont encore balbutiantes, mais il faut réaliser qu’une bonne partie de la recherche d’information passera par ce genre de système dans le futur. En fait et lieu d’une requête Google produisant des milliers de résultats, nous poserons directement nos questions à un descendant de GPT-3, et cela vaudra aussi bien pour les “civils” que pour les chercheurs, les journalistes et même sans doute les militaires. L’interaction avec les ordinateurs prendra alors un tout autre sens. Qu’ils soit super-intelligents, intelligents, conscients ou inconscients, ces algorithmes seront <em>de facto</em> nos interlocuteurs quotidiens dans une voire deux décennies. S’il reste pour l’instant anecdotique en raison de performances limitées, le principe est d’ailleurs déjà à l’oeuvre avec Siri ou Google Voice.</p>
</section>
<section id="vers-une-ia-européenne-publique" class="level3">
<h3 class="anchored" data-anchor-id="vers-une-ia-européenne-publique">Vers une IA européenne publique?</h3>
<p>Contrairement aux questions liées à la vie privée, l’IA ne fait pas encore réellement l’objet d’un débat éthique ou d’une véritable réflexion stratégique. Le débat est souvent pris en tenaille entre deux positions aussi naïves l’une que l’autre: d’une part, les optimistes qui font confiance aux acteurs privés type GAFAM pour s’autoréguler, d’autre part, les pessimistes qui voient déjà un avenir catastrophique se dessiner quelque part entre les imaginaires de 1984, du Meilleur des mondes et de Minority Report. Dans les deux cas, c’est l’inaction qui l’emporte. Faudra-t-il attendre qu’un scandale aussi important que celui de Cambridge Analytica pour que les gouvernements français et européens se décident à s’emparer de la question? Se focaliser seulement sur les risques liés à “<a href="https://web.archive.org/web/20201205030704/https://fr.wikipedia.org/wiki/Astroturfing#:~:text=L'astroturfing%20ou%20la%20d%C3%A9sinformation,un%20comportement%20spontan%C3%A9%20ou%20d'">l’astroturfing</a>” et aux violations de la vie privée, aussi réels soient-il, ne suffit pas. Car si l’on peut limiter la fuite des données, contrôler leur stockage et limiter l’influence des réseaux sur les choix électoraux, on ne pourra pas empêcher la Chine et les États-Unis de développer des algorithmes d’intelligence artificielle toujours plus perfectionnés.</p>
<p>La seule option viable semble être d’entrer dans la danse pour tenter de faire jeu égal avec les autres superpuissances. Au vu de la quantité d’ingénieurs français et européens travaillant dans les services IA de Google et Facebook, nous en avons largement les moyens. Et à l’heure où la Silicon Valley met en place d’immense réseaux de neurones capables de digérer le web entier à des fins mercantiles voire <a href="https://web.archive.org/web/20201205030704/https://www.theverge.com/2018/6/7/17439310/google-ai-ethics-principles-warfare-weapons-military-project-maven">militaires</a>, nous autres en avons peut-être même le devoir.</p>
<p>Imaginer une IA publique et transparente au service de la connaissance et du progrès est plus que jamais nécessaire. A l’échelon national, doubler le budget et les effectifs de l’INRIA permettrait par exemple de donner une véritable impulsion en ce sens (sans pour autant négliger les labos universitaires ou CNRS impliqués dans le domaine). Malheureusement, sauf surprise, il ne faudra pas compter sur le président de notre <a href="https://web.archive.org/web/20201205030704/https://www.liberation.fr/futurs/2017/06/28/la-france-est-elle-une-start-up-nation_1580285">start-up nation</a> pour prendre une telle décision et la gauche peine encore à articuler une pensée claire et des propositions fortes sur ces questions.</p>
</section>
<section id="pour-aller-plus-loin" class="level3">
<h3 class="anchored" data-anchor-id="pour-aller-plus-loin">Pour aller plus loin</h3>
<p>Présentation exhaustive (en anglais) de l’algorithme GPT-3 par Steve Omohundro</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/0ZVOmBp29E0" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<hr>
<p>Discussion très intéressante des enjeux liés à la souveraineté numérique sur la chaîne Thinkerview, avec Tariq Krim et Bernard Benhamou.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/2iErDLlIlG4" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<hr>
<p>Le prédécesseur de GPT-3, GPT-2 a été utilisé dans de nombreux projets. Un des plus ludiques est sans doute AIdungeon, qui permet d’interagir directement avec ce réseau de neurones de 1.5 milliards de paramètres. Mais on peut également citer <a href="https://web.archive.org/web/20201205030704/https://medium.com/merzazine/bloomsday-2020-f312be5caf94">Bloomsday</a> et <a href="https://web.archive.org/web/20201205030704/https://arstechnica.com/gaming/2016/06/an-ai-wrote-this-movie-and-its-strangely-moving/">Sunsprings</a>, deux films courts dont le script a été généré par GPT-2.</p>
<p>Le chercheur Raphaël Millière a utilisé l’algorithme GPT-3 pour produire des textes philosophiques assez fascinants.</p>
<blockquote class="blockquote">
<p>I asked GPT-3 to write a response to the philosophical essays written about it by <a href="https://web.archive.org/web/20201205030704/https://twitter.com/DrZimmermann?ref_src=twsrc%5Etfw">@DrZimmermann</a>, <a href="https://web.archive.org/web/20201205030704/https://twitter.com/rinireg?ref_src=twsrc%5Etfw">@rinireg</a> <a href="https://web.archive.org/web/20201205030704/https://twitter.com/ShannonVallor?ref_src=twsrc%5Etfw">@ShannonVallor</a>, <a href="https://web.archive.org/web/20201205030704/https://twitter.com/add_hawk?ref_src=twsrc%5Etfw">@add_hawk</a>, <a href="https://web.archive.org/web/20201205030704/https://twitter.com/AmandaAskell?ref_src=twsrc%5Etfw">@AmandaAskell</a>, <a href="https://web.archive.org/web/20201205030704/https://twitter.com/dioscuri?ref_src=twsrc%5Etfw">@dioscuri</a>, David Chalmers, Carlos Montemayor, and Justin Khoo published yesterday by <a href="https://web.archive.org/web/20201205030704/https://twitter.com/DailyNousEditor?ref_src=twsrc%5Etfw">@DailyNousEditor</a>. It’s quite remarkable! <a href="https://web.archive.org/web/20201205030704/https://t.co/W1PVlsHdu4">pic.twitter.com/W1PVlsHdu4</a> — Raphaël Millière (@raphamilliere) <a href="https://web.archive.org/web/20201205030704/https://twitter.com/raphamilliere/status/1289129723310886912?ref_src=twsrc%5Etfw">July 31, 2020</a></p>
</blockquote>
<p>Voir aussi la <a href="https://web.archive.org/web/20201205030704/https://twitter.com/raphamilliere/status/1289226960279764992">méthodologie</a> (on notera que l’algorithme a été guidé par le chercheur) et d’autres textes sur son compte <a href="https://web.archive.org/web/20201205030704/https://twitter.com/raphamilliere">Twitter</a>.</p>
<hr>
<p>Exemple de texte journalistique généré par l’algorithme GPT-3:</p>
<p><strong>Title: United Methodists Agree to Historic Split</strong></p>
<p><strong>Subtitle: Those who oppose gay marriage will form their own denomination</strong></p>
<p>Article: After two days of intense debate, the United Methodist Church has agreed to a historic split - one that is expected to end in the creation of a new denomination, one that will be «theologically and socially conservative,» according to The Washington Post. The majority of delegates attending the church’s annual General Conference in May voted to strengthen a ban on the ordination of LGBTQ clergy and to write new rules that will «discipline» clergy who officiate at same-sex weddings. But those who opposed these measures have a new plan: They say they will form a separate denomination by 2020, calling their church the Christian Methodist denomination. The Post notes that the denomination, which claims 12.5 million members, was in the early 20th century the «largest Protestant denomination in the U.S.,» but that it has been shrinking in recent decades. The new split will be the second in the church’s history. The first occurred in 1968, when roughly 10 percent of the denomination left to form the Evangelical United Brethren Church. The Post notes that the proposed split «comes at a critical time for the church, which has been losing members for years,» which has been «pushed toward the brink of a schism over the role of LGBTQ people in the church.» Gay marriage is not the only issue that has divided the church. In 2016, the denomination was split over ordination of transgender clergy, with the North Pacific regional conference voting to ban them from serving as clergy, and the South Pacific regional conference voting to allow them.</p>
<p><em>En gras, l’information de départ donnée à l’algorithme, le reste du texte est généré automatiquement.</em></p>
<hr>
<p><a href="https://web.archive.org/web/20201205030704/http://hemisphere-gauche.blogs.liberation.fr/2020/08/06/lintelligence-artificielle-generale-comme-propriete-privee/"><strong>Article original (Wayback Machine)</strong></a></p>
<script src="https://giscus.app/client.js" data-repo="romainligneul/giscus-comments" data-repo-id="R_kgDOMSMTIw" data-category="CommentsBlogFR" data-category-id="DIC_kwDOMSMTI84CglZk" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async=""> </script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/romainligneul\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024, Romain Ligneul</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>