<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.1">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="RL, Libération">
<meta name="dcterms.date" content="2020-01-23">
<meta name="description" content="Critiques of the Existing System and Possible Alternatives">

<title>Towards Self-Assessment and Horizontal Resource Control in Academia? – RL  </title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../favicon.ico" rel="icon">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-CFSZ45W5CV"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
 
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'analytics_storage': 'denied'
  });
gtag('config', 'G-CFSZ45W5CV', { 'anonymize_ip': true});
</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background-image: url(autoeval_banner.jpg);
background-size: cover;
      }
</style>
<style>
.quarto-title-block .quarto-title-banner {
  background-position-y: center;
  height: 400px;
}
</style>


<meta property="og:title" content="Towards Self-Assessment and Horizontal Resource Control in Academia? – RL">
<meta property="og:description" content="Critiques of the Existing System and Possible Alternatives">
<meta property="og:image" content="https://romainligneul.github.io/blog_en/posts/autoevaluationresearch/autoeval_banner.jpg">
<meta property="og:site_name" content="Romain Ligneul">
<meta property="og:locale" content="en_US">
<meta name="twitter:title" content="Towards Self-Assessment and Horizontal Resource Control in Academia? – RL">
<meta name="twitter:description" content="Critiques of the Existing System and Possible Alternatives">
<meta name="twitter:image" content="https://romainligneul.github.io/blog_en/posts/autoevaluationresearch/autoeval_banner.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">RL</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../blog_en/"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../codes.html"> 
<span class="menu-text">Code</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../.././"> 
<span class="menu-text"><iconify-icon inline="" icon="emojione:flag-for-us-outlying-islands" aria-label="Icon flag-for-us-outlying-islands from emojione Iconify.design set." title="Icon flag-for-us-outlying-islands from emojione Iconify.design set."></iconify-icon></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../.././fr"> 
<span class="menu-text"><iconify-icon inline="" icon="emojione:flag-for-france" aria-label="Icon flag-for-france from emojione Iconify.design set." title="Icon flag-for-france from emojione Iconify.design set."></iconify-icon></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/romainligneul" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-twitter"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/causalself">
            (EN, research)
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://twitter.com/nerfsocial">
            (FR, society)
            </a>
          </li>
      </ul>
    </div>
    <a href="https://www.linkedin.com/in/romain-ligneul-b63b46192/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://www.adaptivecontrol.org" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-lightbulb"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Towards Self-Assessment and Horizontal Resource Control in Academia?</h1>
                  <div>
        <div class="description">
          Critiques of the Existing System and Possible Alternatives
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">liberation</div>
                <div class="quarto-category">neuroscience</div>
                <div class="quarto-category">economics</div>
                <div class="quarto-category">research</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>RL, Libération </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 23, 2020</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#a-system-under-critique-for-15-years" id="toc-a-system-under-critique-for-15-years" class="nav-link active" data-scroll-target="#a-system-under-critique-for-15-years">A System Under Critique for 15 Years</a></li>
  <li><a href="#a-framework-breaking-proposal" id="toc-a-framework-breaking-proposal" class="nav-link" data-scroll-target="#a-framework-breaking-proposal">A Framework-Breaking Proposal</a></li>
  <li><a href="#fighting-academic-branding-and-the-reign-of-researcher-communicators" id="toc-fighting-academic-branding-and-the-reign-of-researcher-communicators" class="nav-link" data-scroll-target="#fighting-academic-branding-and-the-reign-of-researcher-communicators">Fighting Academic “Branding” and the Reign of Researcher-Communicators</a></li>
  <li><a href="#to-go-further" id="toc-to-go-further" class="nav-link" data-scroll-target="#to-go-further">To Go Further</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Recently, a group of French researchers published an <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/idees/article/2020/01/20/nous-chercheurs-voulons-defendre-l-autonomie-de-la-recherche-et-des-formations_6026543_3232.html">op-ed in Le Monde</a> announcing their collective intention to apply for the presidency of the HCERES, France’s highest public authority for regulating and guiding research. This initiative, notably driven by <a href="https://web.archive.org/web/20201205023236/http://rogueesr.fr/">rogueESR</a>, has garnered over 5000 supports, including mine.</p>
<p>Responsible for evaluating all research laboratories in France, the HCERES and its predecessor, the AERES, have accompanied—and often encouraged—the transformation of the French scientific landscape since 2006. Indeed, this “High Committee for the Evaluation of Research and Higher Education” is historically linked to the creation of the <a href="https://web.archive.org/web/20201205023236/https://fr.wikipedia.org/wiki/Agence_nationale_de_la_recherche">ANR</a> (National Research Agency), which shifted French research toward an Anglo-Saxon “project-based” funding system in 2005.</p>
<section id="a-system-under-critique-for-15-years" class="level3">
<h3 class="anchored" data-anchor-id="a-system-under-critique-for-15-years">A System Under Critique for 15 Years</h3>
<p>This significant structural reform has provoked much discussion and exertion over the past 15 years. Indeed, it involves researchers dedicating a significant portion of their time to drafting funding applications that have little chance of success. Despite slight improvements since 2015, the success rate remains <a href="https://web.archive.org/web/20201205023236/https://twitter.com/Alexis_Verger/status/1150661972301701120">around 15%</a>, with many agreeing that the <a href="https://web.archive.org/web/20201205023236/https://journals.plos.org/plosone/article?id=10.1371%2Fjournal.pone.0118494">time lost</a> writing and evaluating these funding applications is largely counterproductive, both scientifically and economically, given the ANR’s enormous <a href="https://web.archive.org/web/20201205023236/http://lesupenmaintenance.blogspot.com/2017/07/inefficience-et-couts-caches-du-neo.html">operational costs</a>.</p>
<p>In this context, the op-ed published in Le Monde at the beginning of 2020 is just the latest in a long series (see <a href="https://web.archive.org/web/20201205023236/https://www.lepoint.fr/debats/tribune-il-faut-repenser-et-renforcer-l-agence-nationale-pour-la-recherche-08-01-2016-2008132_2.php">here</a>, <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/sciences/article/2015/09/21/recherche-la-selection-par-l-excellence-est-denaturee_4766031_1650684.html">here</a>, <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/sciences/article/2019/03/06/le-financement-de-la-recherche-fondamentale-ne-doit-pas-etre-une-loterie_5431902_1650684.html">here</a>, <a href="https://web.archive.org/web/20201205023236/https://www.liberation.fr/debats/2019/09/02/le-jeu-du-hasard-et-de-la-recherche_1748859">here</a>, or <a href="https://web.archive.org/web/20201205023236/https://www.latribune.fr/opinions/20100325trib000491876/depenser-plus-pour-faire-moins-de-recherche-.html">there</a>). Will it have as much impact as the <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/blog/huet/2016/06/09/politique-de-la-recherche-demission-de-masse-a-lanr/">mass resignation</a> of prominent ANR figures in 2016, who, refusing to cope with continuous <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/idees/article/2016/05/23/coupes-budgetaires-dans-la-recherche-huit-grands-chercheurs-denoncent-un-suicide-scientifique-et-industriel_4924612_3232.html">budget cuts</a> under Sarkozy and Hollande, perhaps helped increase the overall budget dedicated to the structure?</p>
<p>It’s uncertain, especially considering how the current executive treats demands coming “from below” and considering that the likely candidate for the presidency of the HCERES is none other than <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/blog/huet/2020/01/21/montee-de-la-contestation-a-luniversite-et-au-cnrs/">Thierry Coulhon</a>, a former advisor to the Fillon government and now advising Emmanuel Macron on “education, higher education, research, and innovation”.</p>
<p>However, the unprecedented interest of this op-ed paradoxically lies in reminding us of a very simple but often forgotten fact: in terms of research evaluation, “the bottom” is actually “the top” since no one is better placed to assess scientific output than the researchers themselves. They are the ones, not ministers or the President, who are best positioned to anticipate upcoming revolutions, determine which research lines are dead ends and which are promising, or to evaluate the material and human resources required to achieve set goals.</p>
<p>With this idea in mind, members of the rogueESR collective urge the entire scientific community to engage with the question in their latest letter:</p>
<blockquote class="blockquote">
<p>The second phase of this nascent movement of reaffirming the scholarly world as forming a community capable of setting its own rules, this immense freedom being balanced by a principle of responsibility towards society, requires everyone’s participation. What strategy can we employ, by curbing all forms of bureaucracy, to agree, beyond partisan divisions, on the University and the research system we aspire to bring to life. Our email is open to all thoughtful tactical and strategic proposals.</p>
</blockquote>
<p>I seize the opportunity to submit a proposal as radically different from the current system as from the previous one. Given the ANR’s programmed failure, it might be tempting to nostalgically contemplate the past and its “inter-ministerial funding”—less time-consuming and more flexible for researchers—but this would be a serious mistake, in my opinion.</p>
<p>Indeed, if one can consider that the reforms which gave birth to the ANR were an opportunity for the then-government to hold a “modernization discourse” that masked—like a smokescreen—the upcoming budget cuts, these reforms were still based on strong dissatisfaction with the old system. It is informative to revisit the report on research studied at the National Assembly on <a href="https://web.archive.org/web/20201205023236/http://www.assemblee-nationale.fr/12/rap-info/i1998.asp">December 21, 2004</a>. Many criticisms targeted the overly hierarchical allocation of credits (following a ministry - institute - laboratory - researcher scheme) whose major flaw was to fuel local nepotisms, often allowing laboratory directors to distribute resources at their discretion; and often at the expense of the most innovative or risky projects carried by younger researchers still poorly integrated into the complex power games that academia has always known. The shift to project-based funding has at least had the virtue of de-siloing all researchers and establishing a horizontal competition theoretically allowing each to compete directly for resources.</p>
</section>
<section id="a-framework-breaking-proposal" class="level3">
<h3 class="anchored" data-anchor-id="a-framework-breaking-proposal">A Framework-Breaking Proposal</h3>
<p>Is it possible to combine the flexibility of the old system with the horizontality of the new, while taking a real step towards a more free, more creative science whose management would involve “everyone’s participation”? It seems to me that yes.</p>
<p>The idea is as follows: instead of awarding funding by project or by laboratory, the state could directly allocate a portion of its credits to each actor in the research process, according to a system blending scientific merit and seniority. From the PhD student at the end of their thesis to the senior research director, including the research engineer and the postdoc, each person contributing to advancing knowledge would thus control a fraction of the credits available for their branch.</p>
<p>At each hierarchical level, the allocation would increase significantly, reflecting despite everything the evolution of scientific expertise. In the field of cognitive neuroscience, for example, the state could allocate five thousand euros per year for doctoral students at the end of their thesis, twenty thousand euros for non-tenured researchers (i.e., postdocs), and fifty thousand euros for tenured researchers and research engineers. If this idea may seem subversive with respect to the traditional hierarchical organization, it is not by accident. In reality, it’s simply about pushing the logic of rogueESR to the limit.</p>
<p>If researchers are to collectively evaluate and control research, isn’t it natural to assign to each of them a part of the available resources, to be employed according to their expertise and motivations? Since it is common to consider that a PhD student at the end of their thesis has already become an <a href="https://web.archive.org/web/20201205023236/https://www.lemonde.fr/sciences/article/2014/05/05/tribune-qui-fait-la-recherche-publique-en-france_4411829_1650684.html">expert</a> regarding their research theme, and since postdocs are often seen as true <a href="https://web.archive.org/web/20201205023236/https://academic.oup.com/bioscience/article/65/11/1088/374441">locomotives</a> of academia, isn’t it sensible to include these two categories in the collective system of evaluation and control being discussed?</p>
<p>A natural objection is that this organization seems at first glance highly individualistic, each researcher then having their little patch of land to cultivate their particular interests. However, it should be noted that the project-based funding as we know it is already highly individualistic since the funding is associated with a single person rather than a collective, both at the French and European levels. Moreover, in this new system, no one would have the “firepower” necessary to carry out major projects, so that collaboration and pooling of resources would be imposed on anyone with big scientific ambitions.</p>
<p>By setting up a platform allowing both the submission of projects, the call for contributions, and the allocation of resources, each actor could then organize a fundraising campaign among their peers, in exchange for an authorship place and/or a proportionate right to oversee the publications resulting from this pooling. The state could promote this type of cooperative logic by awarding additional funding to projects that have received enough contributions, thus breaking with the zero-sum game principle.</p>
</section>
<section id="fighting-academic-branding-and-the-reign-of-researcher-communicators" class="level3">
<h3 class="anchored" data-anchor-id="fighting-academic-branding-and-the-reign-of-researcher-communicators">Fighting Academic “Branding” and the Reign of Researcher-Communicators</h3>
<p>The great virtue of this system would be to put each researcher before the following dilemma: work alone with limited means or work collectively with significantly greater means, so that personal ambitions would systematically be weighed against scientific ambitions; and this, unlike the current system where building a personal reputation and brand (“<a href="https://web.archive.org/web/20201205023236/https://www.nature.com/articles/d41586-019-03021-5">academic branding</a>”) very largely conditions the ability to fulfill our scientific ambitions, benefiting the researchers most skilled in communication.</p>
<p>Such an initiative would undoubtedly multiply the inventiveness of researchers at every level and would also allow for better exploitation of the inter-individual differences that exist in academia. For example, in the field of neuroscience, as in many others, “theorists” generally do not need a lot of their own resources to do their work. A few good computers suffice. However, they urgently need to be able to rely on work informing and constraining the theories they develop. In such a system, these same theorists could thus make their credits available to “experimentalists” who have submitted the most useful projects to them, or directly issue a call for contributions for the experiments they most need.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="autoeval.jpg" class="img-fluid figure-img"></p>
<figcaption>Proposed distribution schema</figcaption>
</figure>
</div>
<p>Certainly, such a reform could not be imposed on the scientific community overnight, and it would undoubtedly take years of local experimentation to develop the necessary tools and refine the logistical and ethical aspects of this entirely “bottom-up” participative system, to borrow an Anglicism that scientists are fond of.</p>
<p>But if we want to hold all researchers accountable for the future of research, and if we want them all to intervene in its evaluation, if we want to fight both bureaucratic arbitrariness and hierarchical arbitrariness, we will have to give them the counterpart of this new responsibility: control over the available resources. Without this, a system proceeding by the nomination of representatives in charge of control, evaluation, and distribution of resources seems inevitable, whether they be laboratory directors or bureaucrats employed by central institutions like the ANR.</p>
<p>For dispensing with such representatives and for freeing the vital forces of academia while advocating self-management, it is essential that everyone contribute to this work of evaluation, orientation, and pooling.</p>
</section>
<section id="to-go-further" class="level3">
<h3 class="anchored" data-anchor-id="to-go-further">To Go Further</h3>
<p>As part of this collective movement, two public sessions of the “Science Policies” seminar will be held at the EHESS on January 30 and February 6 next. These meetings will undoubtedly provide an opportunity to discuss many other proposals imagined by researchers to reform the system as we know it.</p>
<p>See the program, <a href="https://web.archive.org/web/20201205023236/https://pds.hypotheses.org/">here</a>.</p>
<p><a href="https://web.archive.org/web/20201205023236/http://hemisphere-gauche.blogs.liberation.fr/2020/01/23/vers-lauto-evaluation-et-le-controle-horizontal-des-ressources-dans-le-monde-academique/"><strong>Original article (Wayback Machine)</strong></a></p>
<script src="https://giscus.app/client.js" data-repo="romainligneul/giscus-comments" data-repo-id="R_kgDOMSMTIw" data-category="CommentsBlogFR" data-category-id="DIC_kwDOMSMTI84CglZk" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async=""> </script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/romainligneul\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024, Romain Ligneul</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>