---
title: "Registration"
---

Registration is not open yet.

We are still in the process of securing funding to make registration as
affordable as possible, especially for students and postdocs.

::: callout-warning
This page is under construction.
:::

```{=html}
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged, sendEmailVerification } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCH3avPPXfXI49GTopvaFbeKrPtu8ufa2c",
    authDomain: "sbdm2025.firebaseapp.com",
    projectId: "sbdm2025",
    storageBucket: "sbdm2025.firebasestorage.app",
    messagingSenderId: "846447691095",
    appId: "1:846447691095:web:e41322d89f69949469ea12",
    measurementId: "G-G79REFBJ4H"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  document.getElementById("login-btn").addEventListener("click", async () => {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    try {
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      if (!userCredential.user.emailVerified) {
        alert("Please verify your email address before logging in.");
        await signOut(auth);
        return;
      }
    } catch (error) {
      alert(error.message);
    }
  });

  document.getElementById("signup-btn").addEventListener("click", async () => {
    const email = document.getElementById("signup-email").value;
    const password = document.getElementById("signup-password").value;
    try {
      const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      await sendEmailVerification(userCredential.user);
      alert("Verification email sent. Please check your inbox.");
    } catch (error) {
      alert(error.message);
    }
  });

  document.getElementById("logout-btn").addEventListener("click", async () => {
    await signOut(auth);
  });

  async function fetchUserData(email) {
    try {
      const response = await fetch(`https://misc.robustcircuit.eu/user/${email}`);
      const result = await response.json();
      console.log(result.data)
      if (result.success) {
        document.getElementById("formName").value = result.data.name;
        document.getElementById("formEmail").value = email;
        document.getElementById("formAffiliation").value = result.data.affiliation;
        document.getElementById("formAbstract").value = result.data.abstract;
        document.getElementById("formFood").value = result.data.foodrestriction;
        if (result.data.discountRequest=="true"){
            document.getElementById("formDiscount").checked = true;
        }
        // Prepopulate the radio button based on formSession
        const sessionValue = result.data.session; // Assuming this matches the radio values
        const radioSessionButton = document.querySelector(`input[name="formSession"][value="${sessionValue}"]`);
        if (radioSessionButton) {
            radioSessionButton.checked = true;
        }
        const foodValue = result.data.foodrestriction; // Assuming this matches the radio values
        const radioFoodButton = document.querySelector(`input[name="formFood"][value="${foodValue}"]`);
        if (radioFoodButton) {
            radioFoodButton.checked = true;
        }
        const positionValue = result.data.position; // Assuming this matches the radio values
        const radioPositionButton = document.querySelector(`input[name="formPosition"][value="${foodValue}"]`);
        if (radioPositionButton) {
            radioPositionButton.checked = true;
        }
      }
    } catch (error) {
      console.error("Error fetching user data:", error);
    }
  }

  onAuthStateChanged(auth, (user) => {
    if (user && user.emailVerified) {
      document.getElementById("auth-container").style.display = "none";
      document.getElementById("user-container").style.display = "block";
      document.getElementById("logged-container").style.display = "block";
      document.getElementById("user-email").innerText = `Logged in as: ${user.email}`;
      fetchUserData(user.email);
    } else {
      document.getElementById("auth-container").style.display = "block";
      document.getElementById("user-container").style.display = "none";
      document.getElementById("logged-container").style.display = "none";
    }
  });

  document.getElementById("registrationForm").addEventListener("submit", async function(event) {
    event.preventDefault();
    const user = auth.currentUser;
    if (!user || !user.emailVerified) return;
    // manage checkbox
    let discountCheckbox = document.getElementById("formDiscount");
    let hiddenInput = document.createElement("input");
    hiddenInput.type = "hidden";
    hiddenInput.name = "formDiscount";
    hiddenInput.value = discountCheckbox.checked ? "true" : "false";
    // manages abstract text
    let abstractText = document.getElementById("formAbstract").value.trim();
    let wordCount = abstractText.split(/\s+/).filter(word => word.length > 0).length;
    if (wordCount > 200) {
        alert("Abstract cannot exceed 200 words.");
        event.preventDefault(); // Stop form submission
    }
    this.appendChild(hiddenInput);
    const formData = {
      name: document.getElementById("name").value,
      email: user.email,
      message: document.getElementById("message").value
    };
    try {
      const response = await fetch("https://misc.robustcircuit.eu/submit-form", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData)
      });
      const result = await response.json();
      document.getElementById("responseMessage").innerText = result.message;
    } catch (error) {
      document.getElementById("responseMessage").innerText = "Error submitting the form.";
    }
  });
  
</script>
```

```{=html}
<style>

    .auth-container, .signup-container, .user-container {
        background-color: #fff;
        padding: 10px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        width: 100%;
        text-align: center;
        margin: 10px;
    }

    input[type="email"], input[type="password"] {
        width: calc(100% - 22px);
        padding: 10px;
        margin: 8px 0;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
    }

    button {
        background-color: #007bff;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
        margin-top: 10px;
    }

    button:hover {
        background-color: #0056b3;
    }

    .user-container {
        display: none; /* Hidden by default */
    }

</style>
```

<!-- Login Form -->

```{=html}

<div class="container-lg">
    <div class="logged-container row justify-content-center" id="logged-container">
        <div class="col-md-5">
            <div class="d-flex justify-content-between align-items-center">
                <h5 id="user-email" class="mb-0">Logged in as:</h5>
                <button id="logout-btn" class="btn btn-secondary" style="max-width:15%">Logout</button>
            </div>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-md-5">
            <div class="auth-container text-center" id="auth-container">
                <h2 style="margin-top:0px">Login</h2>
                <input type="email" id="email" class="form-control" placeholder="Email">
                <input type="password" id="password" class="form-control" placeholder="Password">
                <button id="login-btn" class="btn btn-primary mt-2">Login</button>
            </div>
        </div>
        <div class="col-md-5">
            <div class="signup-container text-center">
                <h2 "margin-top:0px">Sign Up</h2>
                <input type="email" id="signup-email" class="form-control" placeholder="Email">
                <input type="password" id="signup-password" class="form-control" placeholder="Password">
                <button id="signup-btn" class="btn btn-success mt-2">Sign Up</button>
            </div>
        </div>
    </div>
    <div class="user-container row justify-content-center" id="user-container">
        <div class="container mt-5">
            <h3>Registration Form</h3>
            <form id="registrationForm">
                <div class="mb-3">
                    <label for="formName" class="form-label">First & last name</label>
                    <input type="text" class="form-control" id="formName" required>
                </div>
                <div class="mb-3">
                    <label for="formEmail" class="form-label">Email</label>
                    <input type="text" class="form-control" id="formEmail" readonly>
                </div>
                <div class="mb-3">
                    <label for="formAffiliation" class="form-label">Affiliation</label>
                    <input type="text" class="form-control" id="formAffiliation" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Do you have food restrictions?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formFood" id="foodoption1" value="No" checked required>
                        <label class="form-check-label" for="foodoption1">No</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formFood" id="foodoption2" value="Vegetarian" required>
                        <label class="form-check-label" for="foodoption2">Vegetarian</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formFood" id="foodoption3" value="Vegan" required>
                        <label class="form-check-label" for="foodoption3">Vegan</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">What is your position?</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formPosition" id="optionposition1" value="Researcher, postdoc or permanent staff" required>
                        <label class="form-check-label" for="optionposition1">Researcher, postdoc or permanent research staff</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formPosition" id="optionposition2" value="Causal manipulations in decision making" required>
                        <label class="form-check-label" for="optionposition2">Master or PhD student</label>
                    </div>
                </div>
                <div class="mb-3">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="formDiscount" name="formDiscount">
                        <label class="form-check-label" for="formDiscount">Apply for discount</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="formAbstract" class="form-label">Abstract</label>
                    <textarea class="form-control" id="formAbstract" rows="8" required></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label">The session that corresponds best to your abstract.</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formSession" id="option1" value="Temporal Dynamics of decision making" required>
                        <label class="form-check-label" for="option1">Temporal Dynamics of decision making</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formSession" id="option2" value="Causal manipulations in decision making" required>
                        <label class="form-check-label" for="option2">Causal manipulations in decision making</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formSession" id="option3" value="Social cognition and decision making across species" required>
                        <label class="form-check-label" for="option3">Social cognition and decision making across species</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formSession" id="option4" value="Naturalistic & context-dependant decision making" required>
                        <label class="form-check-label" for="option4">Naturalistic & context-dependant decision making</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formSession" id="option5" value="Brain-body interaction and decision making" required>
                        <label class="form-check-label" for="option5">Brain-body interaction and decision making</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="formSession" id="option6" value="Comparative decision across agents" required>
                        <label class="form-check-label" for="option6">Comparative decision across agents</label>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
            <p id="responseMessage" class="mt-3"></p>
        </div>
    </div>
</div>

```